<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="/src/css/style.css">
    <style>
        #controls { display: none; margin: 20px 0; }
        h2 { display: none; }
        body {
            position: absolute;
            width: 100%;
            height: 100%;
            margin: 0;
        }
        #feed1 {
            position: absolute;
            width: 100%;
            height: 100%;
        }
        svg {
            border: 1px solid red;
        }
    </style>
    <script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
</head>
    <body>
        <h2>A stream showcasing various types of attachments</h2>
        <div id="feed1"></div>

        <script src="../../lib/requirejs/require.js" type="text/javascript"></script>
        <script src="/requirejs.conf.js" type="text/javascript"></script>
        <script>
        require([
            'streamhub-map',
            'streamhub-map/point',
            'streamhub-map/collections/collection-point',
            'streamhub-map/views/marker-view',
            'streamhub-map/views/solar-terminator-view',
            'streamhub-sdk-tests/mocks/mock-attachments-stream'
        ], function (MapView,
                     Point,
                     CollectionPoint,
                     MarkerView,
                     SolarTerminatorOverlayView,
                     MockAttachmentsStream) {

            var mapView = window.view = new MapView({
                el: document.getElementById('feed1')
                //,projection: 'orthographic' // For a list of supported projections: https://github.com/mbostock/d3/wiki/Geo-Projections
                //,boundingBox: [[], []] // Bounding box in degrees
                ,mapCenter: { lat: 37.09024, lon: -95.712891 }
            });

            var myLocation = new Point({ lat: 37.7749295, lon: -122.4194155 });
            var usaCentroid = new Point({ lat: 37.09024, lon: -95.712891 });
            var europeCentroid = new Point({ lat: 54.5259614, lon: 15.2551187 });
            var southAmericaCentroid = new Point({ lat: -8.783195, lon: -55.491477 });
            var indiaCentroid = new Point({ lat: 20.593684, lon: 78.96288 });
            var indonesiaCentroid = new Point({ lat: -0.789275, lon: 113.921327 });

            // The Overlay API
            mapView.addOverlay(new SolarTerminatorOverlayView());
            //mapView.addOverlay(new MarkerView(myLocation))
            //    .addOverlay(new MarkerView(usaCentroid, 'USA'))
            //    .addOverlay(new MarkerView(southAmericaCentroid, 'South America'))
            //    .addOverlay(new MarkerView(europeCentroid, 'Europe'))
            //    .addOverlay(new MarkerView(indiaCentroid, 'India'))
            //    .addOverlay(new MarkerView(indonesiaCentroid, 'Indonesia'));

            // The Data-to-Location API
            var cp1 = new CollectionPoint({
                lat: 37.7749295, 
                lon: -122.4194155,
                collection: new MockAttachmentsStream()
            });
            mapView.addDataPoint(cp1);
        });
        </script>
    </body>
</html>
